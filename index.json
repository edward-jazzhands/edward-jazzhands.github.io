[{"content":"At my place of employment, I was lucky to acquire an old and monstrous computer case that was being thrown in the trash.\nThe computer itself had no value - it was some ancient server from 20 years ago. However, it immediately drew my eyes because of the case. I\u0026rsquo;ve been into refurbishing computers for basically my entire life, so I have a good sense of what parts can be valuable. There was something quite peculiar about this case - It had a 4-drive HDD bay built into it.\n[IMAGES PLACEHOLDER] Left: The PC Case (the HDD bay is already removed here). Right: Front panel of case removed, revealing the bay\nI did not yet know what it was or if I could use it, but I knew that I had to have it. After getting it home and taking the case apart, I realized that I could slide out the entire HDD bay:\n[IMAGES PLACEHOLDER] Left: Sliding out the bay. Right: Bay removed from case.\nMight this somehow be useful? I still didn\u0026rsquo;t know what I was dealing with. So I started taking photos of the PCB and microchips, hoping that I could get some info on the company and what type of bay I had on my hands.\n[IMAGES PLACEHOLDER] Left: Inside of the bay. Right: Megawin chip closeup\nI eventually learned, through a bit of research, that Chenbro is a respected manufacturer of server equipment, and Megawin makes normal SATA controllers. This is good news - it\u0026rsquo;s verification that all I need is a way to connect it to my computer, and it should work perfectly. Furthermore, I should be able to set up some RAID, as well.\nThe back has an odd connector, and it came with a cable I had never seen before.\n[IMAGES PLACEHOLDER] Left: Back of the bay. Right: Stock photo of the cable (easier to see the detail)\nAfter a bunch of googling, I realized that what I was looking at is called \u0026ldquo;SAS\u0026rdquo;, or Serial-Attached SCSI. Without boring you with details, just know these are the industry standard for connecting a hard drive bay to a server, generally through some kind of PCI-e card. There\u0026rsquo;s several types of SAS - the one on this bay is called SFF-8087. Luckily, I have the cable that came with the bay. So all I need is four SATA ports. That\u0026rsquo;s easy enough. Granted, the cable will need to run from the bay to inside the computer, but I can work with that. (There might be a way to avoid this with adapters, but I don\u0026rsquo;t know for sure, and I didn\u0026rsquo;t want to get sidetracked.)\nNow, the SAS to SATA cable is not that long, so I want these SATA ports to be near the back of my PC. This means plugging them directly into the motherboard is not an option (And besides, there\u0026rsquo;s not enough SATA ports on the motherboard). Thus, I\u0026rsquo;ll have to make an expense to make this work: A PCI-e SATA expansion card. I\u0026rsquo;d never dabbled in RAID before, so I was genuinely not sure if it\u0026rsquo;s better to buy a RAID controller or if I should do software RAID. After a few hours of digging into this subject, I learned that RAID controller cards for consumers are generally being phased out in favor of software RAID (But not so much in datacenters, where they are still prevalent). Nowadays, the CPU in your home PC is so fast that any kind of consumer grade RAID controller card is not going to give you any improvement in performance. It\u0026rsquo;s better to just let the CPU handle it, and that\u0026rsquo;s especially true if you are going to be using a Linux-based NAS OS that comes with a good software RAID implementation.\nThis is great news for the budget-conscious person. This means that you actually want to avoid purchasing a card with a built-in RAID controller. That suits us since they\u0026rsquo;re far more expensive. A nice passive card goes for about 30 bucks on Amazon. I purchased this one here: Amazon link (Not an affiliate link). There\u0026rsquo;s numerous no-name brands but many seem to use the same ASMedia chipset, which is well known and widely supported. So that\u0026rsquo;s reassuring.\nNext I need a computer. I have some spare, old SFF PCs in my house, so my ultimate goal through all of this was to set up one of those fancy \u0026ldquo;Home Lab\u0026rdquo; servers that I\u0026rsquo;d heard so much stuff about. People also sometimes use mini PCs or Raspberry Pis for this. In my case, a skinny office tower with an i7-4770 and 16GB of ram that\u0026rsquo;s been sitting in my closet shall finally be put to good use. (If you don\u0026rsquo;t have something like this, they usually go for about 100 bucks on local used marketplaces). I figured that if I am going to have an external NAS array, then I should do it properly and have a dedicated NAS server. Then I could store all my data like a real professional, without needing to buy a fancy 500 dollar array with a built-in computer.\nConstruction time # I ended up going with TrueNAS, and I do not regret that decision. The details of that will be for another article. The important information is that I installed TrueNAS on the PC, I put the SATA expansion card in, and it worked automatically with no issues. TrueNAS seemed to come with the right drivers for the ASMedia chipset.1 I then plugged each of the four SATA jacks from the bay\u0026rsquo;s SAS cable into the card, tested out a few hard drives, and it worked. We\u0026rsquo;re off to the races now. Time to start putting it all together.\n[IMAGES PLACEHOLDER] Left: Wood added successfully. Right: The card installed in the PC.\nSince I\u0026rsquo;m converting this into an external bay, that means it needs some way to power itself. I\u0026rsquo;ve got just the thing - a PSU that I ripped out of a busted AiO PC. This has been sitting in my closet a while. I knew it would come in handy some day!\n[IMAGES PLACEHOLDER] Left: This PSU has finally found its purpose. Right: I swear this is perfectly safe\nAbout the above right-side photo: Since I\u0026rsquo;m using a dedicated PSU for the bay, I need a way to turn it on. Computer PSUs can be turned on manually by shorting 2 wires (green and black, 4th and 5th from bottom right with clip facing you). This can be achieved easily with a paperclip. Usually this is only done for testing power power supplies, but I don\u0026rsquo;t need to turn this on and off. Once it\u0026rsquo;s on, it\u0026rsquo;s meant to stay on 24/7. I will eventually be purchasing some wires and buttons to do this better. But for now, this paperclip is jammed in nice and tight. (There\u0026rsquo;s no current running through it, by the way, it\u0026rsquo;s just a control signal. So it\u0026rsquo;s not dangerous even though it looks janky.)\nI also knew that I needed some cooling. When it was inside the old server case, the NAS bay had its own fan. With the wood panels on the side, the box is gonna be trapping all the heat inside. But it is designed for air to pass over the drives, and there\u0026rsquo;s vents on the front panel. There\u0026rsquo;s also a fan header on the back of the bay. So I needed to improvise a bit. Turns out, it\u0026rsquo;s nothing that a couple well-placed zip-ties cannot solve (Note the SAS cable has to go up under the fan to plug in.) I tested it with the fan turned off later on and it made an enormous difference - Hard drive temps of 30C with the fan, and 60C without it. That small bit of air passing over the drives makes a huge difference. Especially with the wooden panels, the bay traps all the heat inside, so the fan is extra important here.\n[IMAGES PLACEHOLDER] Left: Zip-tying the fan onto the back. The fan is plugged into a header on the bay. Right: The lights are what sell it\nThe final stage is to get some hard drives hooked up. I happened to have a bunch of HDDs in my spare parts (among many other things\u0026hellip; all from refurbishing old computers). I think it doesn\u0026rsquo;t look terrible once its running with the LEDs lit up. I\u0026rsquo;ll do something about that power cable eventually but it\u0026rsquo;s fine for now.\nIt should be noted, HDDs can be had on used stuff marketplaces for very cheap, often 10 or 15 bucks each, and I have acquired several that way as well. They work fine. Another way to get drives is bulk / lot sales on Ebay. However you choose to acquire them, just know that hard drives, like most machines, will usually keep running if they\u0026rsquo;ve been running for the last 10 years or so. The odds are not very high that it\u0026rsquo;s suddenly gonna crap out on you after you buy it. However, there is always a chance that it will die. That\u0026rsquo;s part of the price you pay for getting used / salvaged stuff for little or no money. But of course this works both ways. If you\u0026rsquo;re getting it for very cheap, then it\u0026rsquo;s not a big deal if it dies on you. That\u0026rsquo;s what the RAID array solves! If one of them dies, you have data redundancy. Just pop the dead drive out of the bay, stick in a new drive of equal size, and TrueNAS will automatically handle the rest.\nAt long last, I get to boot up and try out TrueNAS. Here in my setup you can see I\u0026rsquo;ve got two 1TB drives in a RAID 1 setup (mirroring) as \u0026lsquo;pool1\u0026rsquo; (the data pool), and the other two drives, \u0026lsquo;games1\u0026rsquo;, and \u0026lsquo;games2\u0026rsquo;, just store my Steam games so they\u0026rsquo;re not using RAID.\n[IMAGES PLACEHOLDER] TrueNAS up and running! (Photo taken after I\u0026rsquo;ve been using it a while)\nAt last, my server is working. If you\u0026rsquo;re wondering about the whole Steam games being on the NAS array - that will be the topic of another article. (I will link that here when I finish it). For now, I hope you enjoyed reading this and maybe learned something from it.\n(It must be noted - when I tested this card in my windows 10 PC, it did not work perfectly. It could only connect 2 HDDs at a time. I attempted to download drivers but that didn\u0026rsquo;t seem to solve the issue. However, when used in my other computer running TrueNAS, it immediately worked perfectly without any additional drivers. So take that as you will. I didn\u0026rsquo;t test the card extensively in other computers, and perhaps Linux support is just better. The Amazon comments seem to suggest a few others had a similar problem.)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"21 February 2025","externalUrl":null,"permalink":"/posts/building-a-home-nas/","section":"Articles","summary":"","title":"Building a home NAS array with salvaged parts","type":"posts"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/textual-coloromatic","permalink":"/textual-libraries/textual-coloromatic/","section":"Textual Libraries","summary":"A widget for Textual that makes it easy to display ASCII art with color effects and animations.","title":"Textual-Color-O-Matic","type":"textual-libraries"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/textual-pyfiglet","permalink":"/textual-libraries/textual-pyfiglet/","section":"Textual Libraries","summary":"A widget that fully integrates the famous FIGlet ASCII art generator into Textual.","title":"Textual-Pyfiglet","type":"textual-libraries"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/textual-slidecontainer","permalink":"/textual-libraries/textual-slidecontainer/","section":"Textual Libraries","summary":"Provides a new container, the \u003ccode\u003eSlideContainer\u003c/code\u003e. Makes it easy to create sliding or hidden menu bars.","title":"Textual-SlideContainer","type":"textual-libraries"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/textual-window","permalink":"/textual-libraries/textual-window/","section":"Textual Libraries","summary":"A Textual widget for a floating, draggable window and included window bar/manager system.","title":"Textual-Window","type":"textual-libraries"},{"content":" by Edward Jazzhands ","date":"21 February 2025","externalUrl":null,"permalink":"/posts/","section":"Articles","summary":"","title":"Articles","type":"posts"},{"content":"","date":"21 February 2025","externalUrl":null,"permalink":"/","section":"Edward Jazzhands","summary":"","title":"Edward Jazzhands","type":"page"},{"content":"","externalUrl":null,"permalink":"/tags/ascii-art/","section":"Tags","summary":"","title":"Ascii-Art","type":"tags"},{"content":"","externalUrl":null,"permalink":"/authors/","section":"Authors","summary":"","title":"Authors","type":"authors"},{"content":"","externalUrl":null,"permalink":"/categories/","section":"Categories","summary":"","title":"Categories","type":"categories"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/cloctui","permalink":"/utilities/cloctui/","section":"Utilities","summary":"A terminal UI for the famous \u0026lsquo;CLOC\u0026rsquo; command-line tool (Count Lines of Code).","title":"CLOCTUI","type":"utilities"},{"content":"","externalUrl":"https://www.github.com/edward-jazzhands/ezpubsub","permalink":"/python-libraries/ezpubsub/","section":"Python Libraries","summary":"An ultra simple, modern pub/sub library and blinker alternative for Python.","title":"EZPubSub","type":"python-libraries"},{"content":"","externalUrl":null,"permalink":"/tags/pyfiglet/","section":"Tags","summary":"","title":"Pyfiglet","type":"tags"},{"content":"","externalUrl":null,"permalink":"/tags/python/","section":"Tags","summary":"","title":"Python","type":"tags"},{"content":" by Edward Jazzhands ","externalUrl":null,"permalink":"/python-libraries/","section":"Python Libraries","summary":"","title":"Python Libraries","type":"python-libraries"},{"content":"","externalUrl":null,"permalink":"/series/","section":"Series","summary":"","title":"Series","type":"series"},{"content":"","externalUrl":null,"permalink":"/tags/","section":"Tags","summary":"","title":"Tags","type":"tags"},{"content":"","externalUrl":null,"permalink":"/tags/terminal/","section":"Tags","summary":"","title":"Terminal","type":"tags"},{"content":"","externalUrl":null,"permalink":"/tags/textual/","section":"Tags","summary":"","title":"Textual","type":"tags"},{"content":" by Edward Jazzhands The following libraries are all component/widget plugins for Textual , which is a popular Python framework for building terminal user interfaces.\nThe documentation for all these libraries can also be found here:\nLibraries Documentation\n","externalUrl":null,"permalink":"/textual-libraries/","section":"Textual Libraries","summary":"","title":"Textual Libraries","type":"textual-libraries"},{"content":"","externalUrl":null,"permalink":"/tags/tui/","section":"Tags","summary":"","title":"Tui","type":"tags"},{"content":" by Edward Jazzhands ","externalUrl":null,"permalink":"/utilities/","section":"Utilities","summary":"","title":"Utilities","type":"utilities"}]